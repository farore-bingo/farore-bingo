import{d as D,i as k,c as H,a as E,g as I,H as L,b as V,e as T,s as m,f as N,h as M,j as y,k as Y,l as q,m as P,n as $,o as j,p as B,q as C,r as b,t as W,u as z,v as F,w as G}from"./runtime.B2m4tkdy.js";import{a as J}from"./disclose-version.BFe5nLbr.js";const K=new Set,O=new Set;function v(r){var S;var e=this,i=e.ownerDocument,l=r.type,o=((S=r.composedPath)==null?void 0:S.call(r))||[],t=o[0]||r.target,f=0,c=r.__root;if(c){var u=o.indexOf(c);if(u!==-1&&(e===document||e===window)){r.__root=e;return}var d=o.indexOf(e);if(d===-1)return;u<=d&&(f=u)}if(t=o[f]||r.target,t!==e){D(r,"currentTarget",{configurable:!0,get(){return t||i}});try{for(var _,a=[];t!==null;){var s=t.parentNode||t.host||null;try{var n=t["__"+l];if(n!==void 0&&!t.disabled)if(k(n)){var[g,...p]=n;g.apply(t,[r,...p])}else n.call(t,r)}catch(w){_?a.push(w):_=w}if(r.cancelBubble||s===e||s===null)break;t=s}if(_){for(let w of a)queueMicrotask(()=>{throw w});throw _}}finally{r.__root=e,delete r.currentTarget}}}const Q=["wheel","mousewheel","touchstart","touchmove"];function U(r){return Q.includes(r)}function rr(r,e){e!==(r.__t??(r.__t=r.nodeValue))&&(r.__t=e,r.nodeValue=e==null?"":e+"")}function X(r,e){const i=e.anchor??e.target.appendChild(H());return A(r,{...e,anchor:i})}function er(r,e){E(),e.intro=e.intro??!1;const i=e.target,l=b,o=y;try{for(var t=I(i);t&&(t.nodeType!==8||t.data!==L);)t=V(t);if(!t)throw T;m(!0),N(t),M();const f=A(r,{...e,anchor:t});if(y===null||y.nodeType!==8||y.data!==Y)throw q(),T;return m(!1),f}catch(f){if(f===T)return e.recover===!1&&P(),E(),$(i),m(!1),X(r,e);throw f}finally{m(l),N(o)}}const h=new Map;function A(r,{target:e,anchor:i,props:l={},events:o,context:t,intro:f=!0}){E();var c=new Set,u=a=>{for(var s=0;s<a.length;s++){var n=a[s];if(!c.has(n)){c.add(n);var g=U(n);e.addEventListener(n,v,{passive:g});var p=h.get(n);p===void 0?(document.addEventListener(n,v,{passive:g}),h.set(n,1)):h.set(n,p+1)}}};u(j(K)),O.add(u);var d=void 0,_=B(()=>(C(()=>{if(t){W({});var a=G;a.c=t}o&&(l.$$events=o),b&&J(i,null),d=r(i,l)||{},b&&(z.nodes_end=y),t&&F()}),()=>{for(var a of c){e.removeEventListener(a,v);var s=h.get(a);--s===0?(document.removeEventListener(a,v),h.delete(a)):h.set(a,s)}O.delete(u),R.delete(d)}));return R.set(d,_),d}let R=new WeakMap;function tr(r){const e=R.get(r);e&&e()}export{er as h,X as m,rr as s,tr as u};
